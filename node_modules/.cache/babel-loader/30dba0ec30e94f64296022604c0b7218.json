{"ast":null,"code":"var _jsxFileName = \"/home/eagle/Projects/bouldl/src/component/pages/private/Wallet/Wallet.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Layout, AddSocialLinks, HeadingEditPage, LoaderAnimated } from \"../../../common\";\nimport \"./WalletStyle.scss\";\nimport { Container, Row, Col, Button, Modal, Form, ButtonGroup } from \"react-bootstrap\";\nimport Select from \"../../../common/select/Select\";\nimport QRCode from \"react-qr-code\";\nimport { brandsApiCallGet, brandsApiCallPost } from \"../../../../Axios/Brands\";\nimport { toasts } from \"../../../common/Toast/Toast\";\nimport { TransactionTable } from \"./TransactionTable\";\nimport ShowcasePagintion from \"../../public/showcase/ShowcasePagintion\";\nimport copy from \"../../../../assets/images/copy.png\";\nimport { calculateBal, noExponents, jwtEncrypt, encrypt } from \"../../../../utils/utils\";\nimport { checkProvider, depositTransaction, initKaikas, withdrawToKaikas } from \"../../../../WalletClients/KaikasClient\";\nimport { IMGKLAYTN, IMGPOLYGON } from \"../../../../constant\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Wallet = () => {\n  _s();\n\n  const [page, setPage] = useState(1);\n  const [limit, setLimit] = useState(10);\n  const [selectedCoin, setSelectedCoin] = useState();\n  const [loading, setLoading] = useState(false);\n  const [coins, setCoins] = useState();\n  const [royalty, setRoyalty] = useState(\"00.00\");\n  const [balance, setBalance] = useState(\"00.00\");\n  const [acAddrss, setACAddress] = useState();\n  const [txnData, setTxnData] = useState([]);\n  const [txnType, setTxnType] = useState(\"Deposit\");\n  const [totalRecords, setTotalRecords] = useState(0); // const [withdrawAmount, setWithdrawAmount] = useState(0.1);\n  // const [withdrawAdd, setTxnWithdrawAdd] = useState(\"0x5C875AAF0D05ee627ACc2cF7C1454546df86c9c3\");\n\n  const [withdrawAmount, setWithdrawAmount] = useState();\n  const [withdrawAdd, setTxnWithdrawAdd] = useState(\"\"); // const[limit,setLimit]=useState(2)\n\n  const [showWithdrawption, setShowWithdrawption] = useState(false);\n  const [request, setRequest] = useState(\"\");\n  const addressReduced = acAddrss ? acAddrss.slice(0, 4) : \"\";\n  const addressReducedLast = acAddrss ? acAddrss.slice(-4) : \"\";\n  useEffect(() => {\n    getCoins();\n  }, []);\n  console.log(selectedCoin);\n  useEffect(() => {\n    //debugger;\n    if (acAddrss) {\n      txnType === \"Deposit\" ? getDepositTransaction() : getWithdrawTransaction();\n    }\n  }, [txnType, page, acAddrss]);\n  useEffect(() => {\n    if (selectedCoin) {\n      getBalance();\n    }\n  }, [selectedCoin]);\n\n  function getCoins() {\n    setLoading(true);\n    brandsApiCallGet(\"wallet/active-all-coins\").then(res => {\n      if (res) {\n        setSelectedCoin(res.coins[0]);\n        setCoins(res.coins);\n      }\n\n      setLoading(false);\n    }).catch(error => {\n      setLoading(false);\n    });\n  }\n\n  function getBalance() {\n    setLoading(true);\n    brandsApiCallGet(`wallet/${selectedCoin}/get_balance`).then(res => {\n      if (res) {\n        setBalance(calculateBal(res.data[0].balance));\n        setACAddress(res.data[0].address);\n      }\n\n      setLoading(false);\n    }).catch(error => {\n      setLoading(false);\n    });\n  }\n\n  function getDepositTransaction() {\n    setLoading(true);\n    brandsApiCallGet(`wallet/${selectedCoin}/get_deposit_transactions/${page}`).then(res => {\n      if (res) {\n        console.log(\"RESS--->\", res); // setTxnData([]);\n\n        setTxnData(res.data);\n        setTotalRecords(res.totalRecords);\n      }\n\n      setLoading(false);\n    }).catch(error => {\n      setLoading(false);\n    });\n  }\n\n  function getWithdrawTransaction() {\n    // console.log(data,\"kkkkkkkkk\")\n    setLoading(true);\n    brandsApiCallGet(`wallet/${selectedCoin}/get_withdraw_transactions/${page}`).then(res => {\n      if (res) {\n        console.log(\"RESS--->\", res); // setTxnData([]);\n\n        setTxnData(res.data);\n        setTotalRecords(res.totalRecords);\n      }\n\n      setLoading(false);\n    }).catch(error => {\n      setLoading(false);\n    });\n  }\n\n  console.log(\"DATA\", localStorage.getItem(\"email\"));\n\n  async function withdrawRequest() {\n    let data = {\n      amount: withdrawAmount,\n      address: withdrawAdd,\n      email: localStorage.getItem(\"email\")\n    };\n    const finalData = jwtEncrypt(data);\n    console.log(\"DATA\", data); // let encryptData = await encrypt(data);\n    // let newData = {\n    //   encrypted_data: encryptData,\n    // };\n\n    setLoading(true);\n    brandsApiCallPost(`wallet/${selectedCoin}/withdraw_request`, finalData, {}, \"toastOn\").then(res => {\n      if (res) {\n        setWithdrawAmount(undefined);\n        setTxnWithdrawAdd(\"\");\n      }\n\n      setShowWithdrawption(false);\n      setLoading(false);\n    }).catch(error => {\n      setShowWithdrawption(false);\n      setLoading(false);\n    });\n  }\n\n  const nextPage = pageNo => {\n    // debugger;\n    setPage(pageNo);\n  };\n\n  const cancelTxn = data => {// let data = { amount: withdrawAmount, address: withdrawAdd };\n    // setLoading(true);\n    // brandsApiCallPost(`wallet/${selectedCoin}/withdraw_request`, data)\n    //   .then((res) => {\n    //     if (res) {\n    //\n    //     }\n    //     setShowWithdrawption(false);\n    //     setLoading(false);\n    //   })\n    //   .catch((error) => {\n    //     setShowWithdrawption(false);\n    //     ;\n    //     setLoading(false);\n    //   });\n  };\n\n  const copyText = text => {\n    toasts.success(\"Copied Successfully!\");\n    return navigator.clipboard.writeText(text);\n  };\n\n  console.log(\"first lajsdflkas \", totalRecords);\n  const coinsOption = coins && coins.map(item => {\n    return /*#__PURE__*/_jsxDEV(\"option\", {\n      value: item,\n      children: item == \"matic\" ? \"MATIC\" : item.toUpperCase()\n    }, item.value, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }, this);\n  });\n\n  const withdrawModal = /*#__PURE__*/_jsxDEV(Modal, {\n    show: showWithdrawption,\n    onHide: () => {\n      setShowWithdrawption(false);\n      setWithdrawAmount(\"\");\n      setTxnWithdrawAdd(\"\");\n    },\n    centered: true,\n    className: \"dark\",\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        children: [request, \" Request\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      className: \"widthdraw_deposit_req\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          noValidate: true,\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: [\"Amount (\", selectedCoin && selectedCoin.charAt(0).toUpperCase() + selectedCoin.slice(1), \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"number\",\n                label: \"Amount\",\n                name: \"amount\",\n                placeholder: \"Amount\",\n                value: withdrawAmount,\n                min: 0.1,\n                max: \"1\",\n                onChange: e => setWithdrawAmount(e.target.value) // e.target.value.length < 6\n                //   ? setWithdrawAmount(e.target.value)\n                //   : \"\"\n                ,\n                isInvalid: withdrawAmount < 0.1 || // withdrawAmount > 10000 ||\n                withdrawAmount === \"\" ? true : false,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 17\n              }, this), withdrawAmount && /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                type: \"invalid\",\n                children: \"Please Enter valid amount! Minimum amount is 0.1 and Maximum is 10,000.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this), request === \"Withdraw\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  type: \"text\",\n                  label: \"Address\",\n                  placeholder: \"Address\",\n                  value: withdrawAdd,\n                  onChange: e => setTxnWithdrawAdd(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 19\n              }, this), !withdrawAdd && selectedCoin === \"klay\" && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"connectWallet\",\n                onClick: () => connectWithWallet(),\n                children: \"Withdraw to Kaikas wallet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        className: \"btn-reverse\",\n        onClick: () => {\n          setShowWithdrawption(false);\n          setWithdrawAmount(\"\");\n          setTxnWithdrawAdd(\"\");\n        },\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        disabled: !withdrawAmount || withdrawAmount < 0.1,\n        variant: \"primary\",\n        onClick: () => {\n          request === \"Withdraw\" ? withdrawRequest() : depositeFormKaikas(withdrawAmount);\n        },\n        children: request\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 213,\n    columnNumber: 5\n  }, this);\n\n  const depositeFormKaikas = amount => {\n    if (amount) {\n      setLoading(true);\n      setShowWithdrawption(false);\n      depositTransaction(amount, acAddrss, setLoading).then(res => {\n        setLoading(false);\n\n        if (res) {\n          setWithdrawAmount(undefined);\n          toasts.success(\"Transaction successful.\");\n          getBalance();\n        }\n      }).catch(err => {\n        setLoading(false);\n      });\n    }\n  };\n\n  const connectWithWallet = () => {\n    withdrawToKaikas(setTxnWithdrawAdd, \"connect\", setLoading).then(res => {\n      setTxnWithdrawAdd(res);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    innerClass: \"editProfile_layout\",\n    children: [/*#__PURE__*/_jsxDEV(LoaderAnimated, {\n      isLoading: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(HeadingEditPage, {\n      className: \"wrap_heading\",\n      title: \"WALLET\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        className: \"main_containerbal\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: \"wallet_bal_container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lable\",\n            children: \"Balance\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"balance\",\n            children: balance\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter_input_style selectStyle\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"walletIcon\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: selectedCoin === \"klay\" ? IMGKLAYTN : IMGPOLYGON\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Select Coin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"form-control\",\n              onChange: e => {\n                setSelectedCoin(e.target.value);\n              },\n              children: coinsOption\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            className: \"margin_top_btm wallet_button_section\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \" \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 15\n            }, this), selectedCoin === \"klay\" && /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"deposit\",\n              onClick: () => {\n                if (checkProvider()) {\n                  setShowWithdrawption(true);\n                  setRequest(\"Deposit\");\n                }\n              },\n              children: \"Deposit Klay using Kaikas Wallet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"withdraw\",\n              onClick: () => {\n                // withdrawRequest()\n                setShowWithdrawption(true);\n                setRequest(\"Withdraw\");\n              },\n              children: \"Withdraw\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"wallet_address_container\",\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"margin_left_right_auto\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"qr\",\n                children: acAddrss && /*#__PURE__*/_jsxDEV(QRCode, {\n                  value: acAddrss\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 32\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"address\",\n              title: acAddrss,\n              onClick: () => {\n                acAddrss && copyText(acAddrss);\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [addressReduced, \"....\", addressReducedLast]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"copyImg\",\n                src: copy\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"balance margin_top50 row\",\n        children: \"Transaction\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 row btns-transaction\",\n        children: /*#__PURE__*/_jsxDEV(ButtonGroup, {\n          size: \"lg\",\n          className: \"transactions_button\",\n          onClick: e => {\n            setTxnType(e.target.value);\n            setPage(1);\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            className: \"btn btn-secondary btn-left\",\n            value: \"Deposit\",\n            active: txnType == \"Deposit\" ? true : false,\n            children: \"Deposit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 467,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: \"btn btn-secondary btn-right\",\n            value: \"Withdraw\",\n            active: txnType == \"Withdraw\" ? true : false,\n            children: \"Withdraw\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"main_containerbal\",\n        children: txnData && txnData.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(TransactionTable, {\n              data: txnData,\n              type: txnType,\n              cancelApi: cancelTxn,\n              copyText: copyText,\n              selectedCoin: selectedCoin\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"display: inline-block margin_top50\",\n              children: /*#__PURE__*/_jsxDEV(ShowcasePagintion, {\n                limit: 10,\n                total: totalRecords,\n                nextPage: nextPage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"balance margin_top50 margin_left_right_auto\",\n          children: \"No Transaction\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 9\n      }, this), withdrawModal]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 345,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Wallet, \"tkhUrjBMfAiJ5I6OjfFKQY+K+jY=\");\n\n_c = Wallet;\nexport default Wallet;\n\nvar _c;\n\n$RefreshReg$(_c, \"Wallet\");","map":{"version":3,"names":["React","useState","useEffect","Layout","AddSocialLinks","HeadingEditPage","LoaderAnimated","Container","Row","Col","Button","Modal","Form","ButtonGroup","Select","QRCode","brandsApiCallGet","brandsApiCallPost","toasts","TransactionTable","ShowcasePagintion","copy","calculateBal","noExponents","jwtEncrypt","encrypt","checkProvider","depositTransaction","initKaikas","withdrawToKaikas","IMGKLAYTN","IMGPOLYGON","Wallet","page","setPage","limit","setLimit","selectedCoin","setSelectedCoin","loading","setLoading","coins","setCoins","royalty","setRoyalty","balance","setBalance","acAddrss","setACAddress","txnData","setTxnData","txnType","setTxnType","totalRecords","setTotalRecords","withdrawAmount","setWithdrawAmount","withdrawAdd","setTxnWithdrawAdd","showWithdrawption","setShowWithdrawption","request","setRequest","addressReduced","slice","addressReducedLast","getCoins","console","log","getDepositTransaction","getWithdrawTransaction","getBalance","then","res","catch","error","data","address","localStorage","getItem","withdrawRequest","amount","email","finalData","undefined","nextPage","pageNo","cancelTxn","copyText","text","success","navigator","clipboard","writeText","coinsOption","map","item","toUpperCase","value","withdrawModal","charAt","e","target","connectWithWallet","depositeFormKaikas","err","length"],"sources":["/home/eagle/Projects/bouldl/src/component/pages/private/Wallet/Wallet.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Layout,\r\n  AddSocialLinks,\r\n  HeadingEditPage,\r\n  LoaderAnimated,\r\n} from \"../../../common\";\r\nimport \"./WalletStyle.scss\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  Form,\r\n  ButtonGroup,\r\n} from \"react-bootstrap\";\r\nimport Select from \"../../../common/select/Select\";\r\nimport QRCode from \"react-qr-code\";\r\nimport { brandsApiCallGet, brandsApiCallPost } from \"../../../../Axios/Brands\";\r\nimport { toasts } from \"../../../common/Toast/Toast\";\r\nimport { TransactionTable } from \"./TransactionTable\";\r\nimport ShowcasePagintion from \"../../public/showcase/ShowcasePagintion\";\r\nimport copy from \"../../../../assets/images/copy.png\";\r\nimport {\r\n  calculateBal,\r\n  noExponents,\r\n  jwtEncrypt,\r\n  encrypt,\r\n} from \"../../../../utils/utils\";\r\nimport {\r\n  checkProvider,\r\n  depositTransaction,\r\n  initKaikas,\r\n  withdrawToKaikas,\r\n} from \"../../../../WalletClients/KaikasClient\";\r\nimport { IMGKLAYTN, IMGPOLYGON } from \"../../../../constant\";\r\nconst Wallet = () => {\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(10);\r\n  const [selectedCoin, setSelectedCoin] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n  const [coins, setCoins] = useState();\r\n  const [royalty, setRoyalty] = useState(\"00.00\");\r\n  const [balance, setBalance] = useState(\"00.00\");\r\n  const [acAddrss, setACAddress] = useState();\r\n  const [txnData, setTxnData] = useState([]);\r\n  const [txnType, setTxnType] = useState(\"Deposit\");\r\n  const [totalRecords, setTotalRecords] = useState(0);\r\n  // const [withdrawAmount, setWithdrawAmount] = useState(0.1);\r\n  // const [withdrawAdd, setTxnWithdrawAdd] = useState(\"0x5C875AAF0D05ee627ACc2cF7C1454546df86c9c3\");\r\n  const [withdrawAmount, setWithdrawAmount] = useState();\r\n  const [withdrawAdd, setTxnWithdrawAdd] = useState(\"\");\r\n  // const[limit,setLimit]=useState(2)\r\n  const [showWithdrawption, setShowWithdrawption] = useState(false);\r\n  const [request, setRequest] = useState(\"\");\r\n  const addressReduced = acAddrss ? acAddrss.slice(0, 4) : \"\";\r\n  const addressReducedLast = acAddrss ? acAddrss.slice(-4) : \"\";\r\n\r\n  useEffect(() => {\r\n    getCoins();\r\n  }, []);\r\n\r\n  console.log(selectedCoin);\r\n\r\n  useEffect(() => {\r\n    //debugger;\r\n    if (acAddrss) {\r\n      txnType === \"Deposit\"\r\n        ? getDepositTransaction()\r\n        : getWithdrawTransaction();\r\n    }\r\n  }, [txnType, page, acAddrss]);\r\n\r\n  useEffect(() => {\r\n    if (selectedCoin) {\r\n      getBalance();\r\n    }\r\n  }, [selectedCoin]);\r\n\r\n  function getCoins() {\r\n    setLoading(true);\r\n    brandsApiCallGet(\"wallet/active-all-coins\")\r\n      .then((res) => {\r\n        if (res) {\r\n          setSelectedCoin(res.coins[0]);\r\n          setCoins(res.coins);\r\n        }\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        setLoading(false);\r\n      });\r\n  }\r\n  function getBalance() {\r\n    setLoading(true);\r\n    brandsApiCallGet(`wallet/${selectedCoin}/get_balance`)\r\n      .then((res) => {\r\n        if (res) {\r\n          setBalance(calculateBal(res.data[0].balance));\r\n          setACAddress(res.data[0].address);\r\n        }\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        setLoading(false);\r\n      });\r\n  }\r\n\r\n  function getDepositTransaction() {\r\n    setLoading(true);\r\n    brandsApiCallGet(`wallet/${selectedCoin}/get_deposit_transactions/${page}`)\r\n      .then((res) => {\r\n        if (res) {\r\n          console.log(\"RESS--->\", res);\r\n          // setTxnData([]);\r\n          setTxnData(res.data);\r\n          setTotalRecords(res.totalRecords);\r\n        }\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        setLoading(false);\r\n      });\r\n  }\r\n  function getWithdrawTransaction() {\r\n    // console.log(data,\"kkkkkkkkk\")\r\n    setLoading(true);\r\n    brandsApiCallGet(`wallet/${selectedCoin}/get_withdraw_transactions/${page}`)\r\n      .then((res) => {\r\n        if (res) {\r\n          console.log(\"RESS--->\", res);\r\n          // setTxnData([]);\r\n          setTxnData(res.data);\r\n          setTotalRecords(res.totalRecords);\r\n        }\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        setLoading(false);\r\n      });\r\n  }\r\n  console.log(\"DATA\", localStorage.getItem(\"email\"));\r\n  async function withdrawRequest() {\r\n    let data = {\r\n      amount: withdrawAmount,\r\n      address: withdrawAdd,\r\n      email: localStorage.getItem(\"email\"),\r\n    };\r\n    const finalData = jwtEncrypt(data);\r\n    console.log(\"DATA\", data);\r\n    // let encryptData = await encrypt(data);\r\n    // let newData = {\r\n    //   encrypted_data: encryptData,\r\n    // };\r\n    setLoading(true);\r\n    brandsApiCallPost(\r\n      `wallet/${selectedCoin}/withdraw_request`,\r\n      finalData,\r\n      {},\r\n      \"toastOn\"\r\n    )\r\n      .then((res) => {\r\n        if (res) {\r\n          setWithdrawAmount(undefined);\r\n          setTxnWithdrawAdd(\"\");\r\n        }\r\n        setShowWithdrawption(false);\r\n        setLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        setShowWithdrawption(false);\r\n        setLoading(false);\r\n      });\r\n  }\r\n  const nextPage = (pageNo) => {\r\n    // debugger;\r\n    setPage(pageNo);\r\n  };\r\n  const cancelTxn = (data) => {\r\n    // let data = { amount: withdrawAmount, address: withdrawAdd };\r\n    // setLoading(true);\r\n    // brandsApiCallPost(`wallet/${selectedCoin}/withdraw_request`, data)\r\n    //   .then((res) => {\r\n    //     if (res) {\r\n    //\r\n    //     }\r\n    //     setShowWithdrawption(false);\r\n    //     setLoading(false);\r\n    //   })\r\n    //   .catch((error) => {\r\n    //     setShowWithdrawption(false);\r\n    //     ;\r\n    //     setLoading(false);\r\n    //   });\r\n  };\r\n  const copyText = (text) => {\r\n    toasts.success(\"Copied Successfully!\");\r\n    return navigator.clipboard.writeText(text);\r\n  };\r\n  console.log(\"first lajsdflkas \", totalRecords);\r\n  const coinsOption =\r\n    coins &&\r\n    coins.map((item) => {\r\n      return (\r\n        <option key={item.value} value={item}>\r\n          {item == \"matic\" ? \"MATIC\" : item.toUpperCase()}\r\n        </option>\r\n      );\r\n    });\r\n\r\n  const withdrawModal = (\r\n    <Modal\r\n      show={showWithdrawption}\r\n      onHide={() => {\r\n        setShowWithdrawption(false);\r\n        setWithdrawAmount(\"\");\r\n        setTxnWithdrawAdd(\"\");\r\n      }}\r\n      centered\r\n      className=\"dark\"\r\n    >       \r\n      <Modal.Header closeButton>\r\n        <Modal.Title>{request} Request</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body className=\"widthdraw_deposit_req\">\r\n        <div>\r\n          <Form noValidate>\r\n            <Row>\r\n              <Form.Group className=\"mb-3\">\r\n                <Form.Label>\r\n                  Amount (\r\n                  {selectedCoin &&\r\n                    selectedCoin.charAt(0).toUpperCase() +\r\n                      selectedCoin.slice(1)}\r\n                  )\r\n                </Form.Label>\r\n                <Form.Control\r\n                  type=\"number\"\r\n                  label=\"Amount\"\r\n                  name=\"amount\"\r\n                  placeholder=\"Amount\"\r\n                  value={withdrawAmount}\r\n                  min={0.1}\r\n                  max=\"1\"\r\n                  onChange={\r\n                    (e) => setWithdrawAmount(e.target.value)\r\n                    // e.target.value.length < 6\r\n                    //   ? setWithdrawAmount(e.target.value)\r\n                    //   : \"\"\r\n                  }\r\n                  isInvalid={\r\n                    withdrawAmount < 0.1 ||\r\n                    // withdrawAmount > 10000 ||\r\n                    withdrawAmount === \"\"\r\n                      ? true\r\n                      : false\r\n                  }\r\n                  required\r\n                />\r\n                {withdrawAmount && (\r\n                  <Form.Control.Feedback type=\"invalid\">\r\n                    Please Enter valid amount! Minimum amount is 0.1 and Maximum\r\n                    is 10,000.\r\n                  </Form.Control.Feedback>\r\n                )}\r\n              </Form.Group>\r\n              {request === \"Withdraw\" && (\r\n                <>\r\n                  <Form.Group className=\"mb-3\">\r\n                    <Form.Label>Address</Form.Label>\r\n                    <Form.Control\r\n                      type=\"text\"\r\n                      label=\"Address\"\r\n                      placeholder=\"Address\"\r\n                      value={withdrawAdd}\r\n                      onChange={(e) => setTxnWithdrawAdd(e.target.value)}\r\n                    />\r\n                  </Form.Group>\r\n                  {!withdrawAdd && selectedCoin === \"klay\" && (\r\n                    <p\r\n                      className=\"connectWallet\"\r\n                      onClick={() => connectWithWallet()}\r\n                    >\r\n                      Withdraw to Kaikas wallet\r\n                    </p>\r\n                  )}\r\n                </>\r\n              )}\r\n            </Row>\r\n          </Form>\r\n        </div>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button\r\n          className=\"btn-reverse\"\r\n          onClick={() => {\r\n            setShowWithdrawption(false);\r\n            setWithdrawAmount(\"\");\r\n            setTxnWithdrawAdd(\"\");\r\n          }}\r\n        >\r\n          <span>Close</span>\r\n        </Button>\r\n        <Button\r\n          disabled={!withdrawAmount || withdrawAmount < 0.1}\r\n          variant=\"primary\"\r\n          onClick={() => {\r\n            request === \"Withdraw\"\r\n              ? withdrawRequest()\r\n              : depositeFormKaikas(withdrawAmount);\r\n          }}\r\n        >\r\n          {request}\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n\r\n  const depositeFormKaikas = (amount) => {\r\n    if (amount) {\r\n      setLoading(true);\r\n      setShowWithdrawption(false);\r\n      depositTransaction(amount, acAddrss, setLoading)\r\n        .then((res) => {\r\n          setLoading(false);\r\n          if (res) {\r\n            setWithdrawAmount(undefined);\r\n            toasts.success(\"Transaction successful.\");\r\n            getBalance();\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          setLoading(false);\r\n        });\r\n    }\r\n  };\r\n\r\n  const connectWithWallet = () => {\r\n    withdrawToKaikas(setTxnWithdrawAdd, \"connect\", setLoading).then((res) => {\r\n      setTxnWithdrawAdd(res);\r\n    });\r\n  };\r\n  return (\r\n    <div innerClass=\"editProfile_layout\">\r\n      <LoaderAnimated isLoading={loading} />\r\n      <HeadingEditPage className=\"wrap_heading\" title={\"WALLET\"} />\r\n      <Container>\r\n        <Row className=\"main_containerbal\">\r\n          <Col className=\"wallet_bal_container\">\r\n            <div className=\"lable\">Balance</div>\r\n            <h3 className=\"balance\">{balance}</h3>\r\n            <br />\r\n\r\n            <div className=\"filter_input_style selectStyle\">\r\n              <div className=\"walletIcon\">\r\n                <img src={selectedCoin === \"klay\" ? IMGKLAYTN : IMGPOLYGON} />\r\n              </div>\r\n              <label className=\"form-label\">Select Coin</label>\r\n              <select\r\n                className=\"form-control\"\r\n                onChange={(e) => {\r\n                  setSelectedCoin(e.target.value);\r\n                }}\r\n              >\r\n                {coinsOption}\r\n              </select>\r\n            </div>\r\n            <Col className=\"margin_top_btm wallet_button_section\">\r\n              {/* <Button variant={ \"outline-primary\"} onClick={ () => {\r\n                    setTxnType(\"Dep\")\r\n                  }}>Deposit</Button> */}\r\n\r\n              <span> </span>\r\n              {selectedCoin === \"klay\" && (\r\n                <Button\r\n                  variant={\"deposit\"}\r\n                  onClick={() => {\r\n                    if (checkProvider()) {\r\n                      setShowWithdrawption(true);\r\n                      setRequest(\"Deposit\");\r\n                    }\r\n                  }}\r\n                >\r\n                  Deposit Klay using Kaikas Wallet\r\n                </Button>\r\n              )}\r\n              <Button\r\n                variant={\"withdraw\"}\r\n                onClick={() => {\r\n                  // withdrawRequest()\r\n                  setShowWithdrawption(true);\r\n                  setRequest(\"Withdraw\");\r\n                }}\r\n              >\r\n                Withdraw\r\n              </Button>\r\n\r\n              {/* <Button variant={ txnType == \"Dep\" ? \"outline-primary\" :\"outline-secondary\"} onClick={ () => {\r\n                    setTxnType(\"Dep\")\r\n                  }}>Deposit</Button>\r\n\r\n                  <span> </span>\r\n\r\n                  <Button variant={ txnType == \"Wid\" ? \"outline-primary\" :\"outline-secondary\"} onClick={ () => {\r\n                    setTxnType(\"Wid\")\r\n                  }}>Withdraw</Button> */}\r\n            </Col>\r\n            {/* <Col>\r\n              <div className=\"lable\">Royalty</div>\r\n              <h3 className=\"balance\">{royalty}</h3>\r\n            </Col> */}\r\n          </Col>\r\n          <Row className=\"wallet_address_container\">\r\n            <Row>\r\n              <div className=\"margin_left_right_auto\">\r\n                <div className=\"qr\">\r\n                  {acAddrss && <QRCode value={acAddrss} />}\r\n                </div>\r\n              </div>\r\n\r\n              <div\r\n                className=\"address\"\r\n                title={acAddrss}\r\n                onClick={() => {\r\n                  acAddrss && copyText(acAddrss);\r\n                }}\r\n              >\r\n                <span>\r\n                  {addressReduced}....{addressReducedLast}\r\n                </span>\r\n                <img className=\"copyImg\" src={copy} />\r\n              </div>\r\n              {/* {selectedCoin === \"klay\" && (\r\n                <div className=\"kaikasWalletButton\">\r\n                  OR\r\n                  <div style={{ marginTop: \"5px\" }}>\r\n                    <Button\r\n                      style={{ marginLeft: \"10px\" }}\r\n                      variant={\"outline-secondary\"}\r\n                      onClick={() => {\r\n                        if (checkProvider()) {\r\n                          setShowWithdrawption(true);\r\n                          setRequest(\"Deposit\");\r\n                        }\r\n                      }}\r\n                    >\r\n                      Deposit Klay using Kaikas Wallet\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )} */}\r\n            </Row>\r\n          </Row>\r\n        </Row>\r\n\r\n        <div className=\"balance margin_top50 row\">Transaction</div>\r\n        <div className=\"mt-4 row btns-transaction\">\r\n          <ButtonGroup\r\n            size=\"lg\"\r\n            className=\"transactions_button\"\r\n            onClick={(e) => {\r\n              setTxnType(e.target.value);\r\n              setPage(1);\r\n            }}\r\n          >\r\n            <Button\r\n              className=\"btn btn-secondary btn-left\"\r\n              value=\"Deposit\"\r\n              active={txnType == \"Deposit\" ? true : false}\r\n            >\r\n              Deposit\r\n            </Button>\r\n            <Button\r\n              className=\"btn btn-secondary btn-right\"\r\n              value=\"Withdraw\"\r\n              active={txnType == \"Withdraw\" ? true : false}\r\n            >\r\n              Withdraw\r\n            </Button>\r\n            {/* <Button className=\"btn btn-secondary\" value=\"Roylty\"\r\n              active={ txnType==\"Roylty\" ? true :false }\r\n              >\r\n                Roylty\r\n              </Button> */}\r\n          </ButtonGroup>\r\n        </div>\r\n        <div></div>\r\n        <Row className=\"main_containerbal\">\r\n          {txnData && txnData.length > 0 ? (\r\n            <div>\r\n              <Row>\r\n                <TransactionTable\r\n                  data={txnData}\r\n                  type={txnType}\r\n                  cancelApi={cancelTxn}\r\n                  copyText={copyText}\r\n                  selectedCoin={selectedCoin}\r\n                />\r\n\r\n                <div className=\"display: inline-block margin_top50\">\r\n                  <ShowcasePagintion\r\n                    limit={10}\r\n                    total={totalRecords}\r\n                    nextPage={nextPage}\r\n                  />\r\n                  {/* )}  */}\r\n                </div>\r\n              </Row>\r\n            </div>\r\n          ) : (\r\n            <div className=\"balance margin_top50 margin_left_right_auto\">\r\n              No Transaction\r\n            </div>\r\n          )}\r\n        </Row>\r\n\r\n        {withdrawModal}\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Wallet;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}