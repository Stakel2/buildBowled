{"ast":null,"code":"import axios from \"axios\";\nimport { toasts } from \"../component/common/Toast/Toast.js\";\nimport { REACT_APP_WORDPRESS } from \"../constant\";\nexport const BASE_URL = REACT_APP_WORDPRESS;\nexport const axiosApi = axios.create({\n  baseURL: BASE_URL\n}); // axiosApi.interceptors.request.use((config) => {\n//   config.headers[\"Authorization\"] = localStorage.getItem(\"token\");\n//   return config;\n// });\n// function formatUrl(url, params) {\n//   params =\n//     params && Object.keys(params).length > 0\n//       ? `?${new URLSearchParams(params).toString()}`\n//       : \"\";\n//   return `${url}${params}`;\n// }\n\nfunction handleError(error) {\n  var _error$response, _error$response2, _error$response3;\n\n  if (error !== null && error !== void 0 && (_error$response = error.response) !== null && _error$response !== void 0 && _error$response.status && ((error === null || error === void 0 ? void 0 : (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 403 || (error === null || error === void 0 ? void 0 : (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status) === 401)) {\n    toasts.error(\"Please re-login, last login session expired.\");\n    localStorage.clear();\n  } else {\n    var _error$data, _error$response4, _error$response4$data;\n\n    (error === null || error === void 0 ? void 0 : (_error$data = error.data) === null || _error$data === void 0 ? void 0 : _error$data.message) && toasts.error(error.data.message);\n    (error === null || error === void 0 ? void 0 : (_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) && toasts.error(error.response.data.message);\n  }\n}\n\nfunction handleSuccess(res) {\n  if (res.status === 200) {\n    var _res$data;\n\n    res.message && toasts.success(res.message);\n    (res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.message) && toasts.success(res.data.message);\n  }\n\n  if (res.status === 403) {\n    res.message && toasts.warning(res.message);\n  }\n} // export const apiCallPost = (url, data, params = {}, toastOn) =>\n//   new Promise((resolve, reject) => {\n//     axiosApi\n//       .post(formatUrl(url, params), data)\n//       .then((res) => {\n//         if (toastOn == \"toastOn\") {\n//           handleSuccess(res);\n//         }\n//         resolve(res.data);\n//       })\n//       .catch((error) => {\n//         handleError(error);\n//         reject(error);\n//       });\n//   });\n\n\nexport const apiCallGetWordpress = baseURL => {\n  return new Promise(resolve => {\n    axiosApi.get(baseURL).then(res => {\n      resolve(res === null || res === void 0 ? void 0 : res.data);\n    }).catch(error => {// handleError(error);\n    });\n  });\n}; // export const apiCallPut = (url, data, params = {}, toastOn) =>\n//   new Promise((resolve) => {\n//     axiosApi\n//       .put(formatUrl(url, params), data)\n//       .then((res) => {\n//         if (toastOn === \"toastOn\") {\n//           handleSuccess(res);\n//         }\n//         resolve(res.data);\n//       })\n//       .catch((error) => {\n//         handleError(error);\n//         resolve(null);\n//       });\n//   });\n// export const apiCallPatch = (url, data, params = {}, toastOn) =>\n//   new Promise((resolve) => {\n//     axiosApi\n//       .patch(formatUrl(url, params), data)\n//       .then((res) => {\n//         if (toastOn === \"toastOn\") {\n//           handleSuccess(res);\n//         }\n//         resolve(res.data);\n//       })\n//       .catch((error) => {\n//         handleError(error);\n//         resolve(null);\n//       });\n//   });\n// export const apiCallDelete = (url, params = {}, toastOn) => {\n//   return new Promise((resolve, reject) => {\n//     axiosApi\n//       .delete(formatUrl(url, params))\n//       .then((res) => {\n//         if (toastOn === \"toastOn\") {\n//           handleSuccess(res);\n//         }\n//         resolve(res.data);\n//       })\n//       .catch((error) => {\n//         handleError(error);\n//         reject(error);\n//       });\n//   });\n// };","map":{"version":3,"names":["axios","toasts","REACT_APP_WORDPRESS","BASE_URL","axiosApi","create","baseURL","handleError","error","response","status","localStorage","clear","data","message","handleSuccess","res","success","warning","apiCallGetWordpress","Promise","resolve","get","then","catch"],"sources":["/home/eagle/Projects/bouldl/src/Axios/Base.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { toasts } from \"../component/common/Toast/Toast.js\";\r\nimport { REACT_APP_WORDPRESS } from \"../constant\";\r\nexport const BASE_URL = REACT_APP_WORDPRESS;\r\nexport const axiosApi = axios.create({\r\n  baseURL: BASE_URL,\r\n});\r\n\r\n// axiosApi.interceptors.request.use((config) => {\r\n//   config.headers[\"Authorization\"] = localStorage.getItem(\"token\");\r\n//   return config;\r\n// });\r\n\r\n// function formatUrl(url, params) {\r\n//   params =\r\n//     params && Object.keys(params).length > 0\r\n//       ? `?${new URLSearchParams(params).toString()}`\r\n//       : \"\";\r\n//   return `${url}${params}`;\r\n// }\r\n\r\nfunction handleError(error) {\r\n  if (\r\n    error?.response?.status &&\r\n    (error?.response?.status === 403 || error?.response?.status === 401)\r\n  ) {\r\n    toasts.error(\"Please re-login, last login session expired.\");\r\n    localStorage.clear();\r\n  } else {\r\n    error?.data?.message && toasts.error(error.data.message);\r\n    error?.response?.data?.message && toasts.error(error.response.data.message);\r\n  }\r\n}\r\n\r\nfunction handleSuccess(res) {\r\n  if (res.status === 200) {\r\n    res.message && toasts.success(res.message);\r\n    res?.data?.message && toasts.success(res.data.message);\r\n  }\r\n  if (res.status === 403) {\r\n    res.message && toasts.warning(res.message);\r\n  }\r\n}\r\n\r\n// export const apiCallPost = (url, data, params = {}, toastOn) =>\r\n//   new Promise((resolve, reject) => {\r\n//     axiosApi\r\n//       .post(formatUrl(url, params), data)\r\n//       .then((res) => {\r\n//         if (toastOn == \"toastOn\") {\r\n//           handleSuccess(res);\r\n//         }\r\n//         resolve(res.data);\r\n//       })\r\n//       .catch((error) => {\r\n//         handleError(error);\r\n//         reject(error);\r\n//       });\r\n//   });\r\n\r\nexport const apiCallGetWordpress = (baseURL) => {\r\n  return new Promise((resolve) => {\r\n    axiosApi\r\n      .get(baseURL)\r\n      .then((res) => {\r\n        resolve(res?.data);\r\n      })\r\n      .catch((error) => {\r\n        // handleError(error);\r\n      });\r\n  });\r\n};\r\n// export const apiCallPut = (url, data, params = {}, toastOn) =>\r\n//   new Promise((resolve) => {\r\n//     axiosApi\r\n//       .put(formatUrl(url, params), data)\r\n//       .then((res) => {\r\n//         if (toastOn === \"toastOn\") {\r\n//           handleSuccess(res);\r\n//         }\r\n//         resolve(res.data);\r\n//       })\r\n//       .catch((error) => {\r\n//         handleError(error);\r\n//         resolve(null);\r\n//       });\r\n//   });\r\n\r\n// export const apiCallPatch = (url, data, params = {}, toastOn) =>\r\n//   new Promise((resolve) => {\r\n//     axiosApi\r\n//       .patch(formatUrl(url, params), data)\r\n//       .then((res) => {\r\n//         if (toastOn === \"toastOn\") {\r\n//           handleSuccess(res);\r\n//         }\r\n//         resolve(res.data);\r\n//       })\r\n//       .catch((error) => {\r\n//         handleError(error);\r\n//         resolve(null);\r\n//       });\r\n//   });\r\n\r\n// export const apiCallDelete = (url, params = {}, toastOn) => {\r\n//   return new Promise((resolve, reject) => {\r\n//     axiosApi\r\n//       .delete(formatUrl(url, params))\r\n//       .then((res) => {\r\n//         if (toastOn === \"toastOn\") {\r\n//           handleSuccess(res);\r\n//         }\r\n//         resolve(res.data);\r\n//       })\r\n//       .catch((error) => {\r\n//         handleError(error);\r\n//         reject(error);\r\n//       });\r\n//   });\r\n// };\r\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,oCAAvB;AACA,SAASC,mBAAT,QAAoC,aAApC;AACA,OAAO,MAAMC,QAAQ,GAAGD,mBAAjB;AACP,OAAO,MAAME,QAAQ,GAAGJ,KAAK,CAACK,MAAN,CAAa;EACnCC,OAAO,EAAEH;AAD0B,CAAb,CAAjB,C,CAIP;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASI,WAAT,CAAqBC,KAArB,EAA4B;EAAA;;EAC1B,IACEA,KAAK,SAAL,IAAAA,KAAK,WAAL,uBAAAA,KAAK,CAAEC,QAAP,4DAAiBC,MAAjB,KACC,CAAAF,KAAK,SAAL,IAAAA,KAAK,WAAL,gCAAAA,KAAK,CAAEC,QAAP,sEAAiBC,MAAjB,MAA4B,GAA5B,IAAmC,CAAAF,KAAK,SAAL,IAAAA,KAAK,WAAL,gCAAAA,KAAK,CAAEC,QAAP,sEAAiBC,MAAjB,MAA4B,GADhE,CADF,EAGE;IACAT,MAAM,CAACO,KAAP,CAAa,8CAAb;IACAG,YAAY,CAACC,KAAb;EACD,CAND,MAMO;IAAA;;IACL,CAAAJ,KAAK,SAAL,IAAAA,KAAK,WAAL,2BAAAA,KAAK,CAAEK,IAAP,4DAAaC,OAAb,KAAwBb,MAAM,CAACO,KAAP,CAAaA,KAAK,CAACK,IAAN,CAAWC,OAAxB,CAAxB;IACA,CAAAN,KAAK,SAAL,IAAAA,KAAK,WAAL,gCAAAA,KAAK,CAAEC,QAAP,+FAAiBI,IAAjB,gFAAuBC,OAAvB,KAAkCb,MAAM,CAACO,KAAP,CAAaA,KAAK,CAACC,QAAN,CAAeI,IAAf,CAAoBC,OAAjC,CAAlC;EACD;AACF;;AAED,SAASC,aAAT,CAAuBC,GAAvB,EAA4B;EAC1B,IAAIA,GAAG,CAACN,MAAJ,KAAe,GAAnB,EAAwB;IAAA;;IACtBM,GAAG,CAACF,OAAJ,IAAeb,MAAM,CAACgB,OAAP,CAAeD,GAAG,CAACF,OAAnB,CAAf;IACA,CAAAE,GAAG,SAAH,IAAAA,GAAG,WAAH,yBAAAA,GAAG,CAAEH,IAAL,wDAAWC,OAAX,KAAsBb,MAAM,CAACgB,OAAP,CAAeD,GAAG,CAACH,IAAJ,CAASC,OAAxB,CAAtB;EACD;;EACD,IAAIE,GAAG,CAACN,MAAJ,KAAe,GAAnB,EAAwB;IACtBM,GAAG,CAACF,OAAJ,IAAeb,MAAM,CAACiB,OAAP,CAAeF,GAAG,CAACF,OAAnB,CAAf;EACD;AACF,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,OAAO,MAAMK,mBAAmB,GAAIb,OAAD,IAAa;EAC9C,OAAO,IAAIc,OAAJ,CAAaC,OAAD,IAAa;IAC9BjB,QAAQ,CACLkB,GADH,CACOhB,OADP,EAEGiB,IAFH,CAESP,GAAD,IAAS;MACbK,OAAO,CAACL,GAAD,aAACA,GAAD,uBAACA,GAAG,CAAEH,IAAN,CAAP;IACD,CAJH,EAKGW,KALH,CAKUhB,KAAD,IAAW,CAChB;IACD,CAPH;EAQD,CATM,CAAP;AAUD,CAXM,C,CAYP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}