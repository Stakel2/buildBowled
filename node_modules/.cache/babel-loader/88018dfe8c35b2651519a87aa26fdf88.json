{"ast":null,"code":"import React from \"react\";\nexport default function Cashfree(_ref) {\n  let {\n    data\n  } = _ref;\n  // debugger;\n  window.open(data);\n  const config = {\n    onPaymentSuccess: function (data) {},\n    onPaymentFailure: function (data) {},\n    onError: function (err) {}\n  };\n  const cfCheckout = window.Cashfree.initializeApp(config);\n  let isUPIIntentReady = false;\n  let order_token = \"2345\"; //order_token is received after create order api is called\n\n  cfCheckout.elements([{\n    pay: document.getElementById('pay-intent'),\n    type: 'upi-intent',\n    onChange: upiIntentHandler\n  }]);\n\n  function upiIntentHandler(data) {\n    console.log(\"UPI intent --> \", data);\n    isUPIIntentReady = data.isReadyToPay;\n  }\n\n  function payUpi() {\n    if (!isUPIIntentReady) {\n      alert(\"UPI Intent not ready to pay!\");\n      return;\n    }\n\n    cfCheckout.pay(order_token, 'upi-intent');\n  }\n\n  return (// <div style={{ maxWidth: \"750px\", minHeight: \"200px\" }}>\n    {\n      /* <div id=\"pay-card\">\n      <table>\n          <tr><td>Card number</td><td><input  type=\"text\" value=\"\" data-card-number/> </td></tr>\n          <tr><td>card expiry MM</td><td><input  type=\"text\" value=\"\" data-card-expiry-mm/> </td></tr>\n          <tr><td>card expiry YY</td><td><input  type=\"text\" value=\"\" data-card-expiry-yy/> </td></tr>\n          <tr><td>card cvv</td><td><input  type=\"password\" value=\"\" data-card-cvv/></td></tr>\n      </table>\n      <button id=\"pay-card-btn\">Pay</button>\n      </div> */\n\n      /* <div id=\"pay-intent\">\n             UPI App  <select  data-upi-provider>\n                     <option value=\"\">select</option>\n                    <option value=\"gpay\">gpay</option>\n                    <option value=\"phonepe\">phonepe</option>\n                    <option value=\"paytm\">paytm</option>\n                    <option value=\"bhim\">bhim</option>\n             </select>\n             {/* <input type=\"text\" data-app-phone /> */\n    } //        * <button id=\"pay-intent-btn \"onClick={payUpi}>Pay</button>\n    // </div>\n    // </div> */} \n\n  );\n}\n_c = Cashfree;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cashfree\");","map":{"version":3,"names":["React","Cashfree","data","window","open","config","onPaymentSuccess","onPaymentFailure","onError","err","cfCheckout","initializeApp","isUPIIntentReady","order_token","elements","pay","document","getElementById","type","onChange","upiIntentHandler","console","log","isReadyToPay","payUpi","alert"],"sources":["/home/eagle/Projects/bouldl/src/component/common/Cashfree/Cashfree.js"],"sourcesContent":["import React from \"react\";\n\nexport default function Cashfree({data}) {\n       // debugger;\n       window.open(data)\n    const config = {\n        onPaymentSuccess: function(data) {},\n        onPaymentFailure: function(data) {},\n        onError: function(err) {},\n    };\n    const cfCheckout = window.Cashfree.initializeApp(config);\n    let isUPIIntentReady = false;\n    let order_token = \"2345\";  //order_token is received after create order api is called\n    cfCheckout.elements([\n           {\n                  pay: document.getElementById\n                  ('pay-intent'),\n                  type: 'upi-intent',\n                  onChange: upiIntentHandler\n           }\n    ]) \n    function upiIntentHandler(data){\n           console.log(\"UPI intent --> \", data)\n           isUPIIntentReady = data.isReadyToPay\n    }\n  function payUpi() {\n           if(!isUPIIntentReady) {\n                  alert(\"UPI Intent not ready to pay!\")\n                  return\n           }\n          cfCheckout.pay(order_token, 'upi-intent');\n    }\n  return (\n       // <div style={{ maxWidth: \"750px\", minHeight: \"200px\" }}>\n    {/* <div id=\"pay-card\">\n    <table>\n         <tr><td>Card number</td><td><input  type=\"text\" value=\"\" data-card-number/> </td></tr>\n         <tr><td>card expiry MM</td><td><input  type=\"text\" value=\"\" data-card-expiry-mm/> </td></tr>\n         <tr><td>card expiry YY</td><td><input  type=\"text\" value=\"\" data-card-expiry-yy/> </td></tr>\n         <tr><td>card cvv</td><td><input  type=\"password\" value=\"\" data-card-cvv/></td></tr>\n\n    </table>\n    <button id=\"pay-card-btn\">Pay</button>\n</div> */\n/* <div id=\"pay-intent\">\n       UPI App  <select  data-upi-provider>\n               <option value=\"\">select</option>\n              <option value=\"gpay\">gpay</option>\n              <option value=\"phonepe\">phonepe</option>\n              <option value=\"paytm\">paytm</option>\n              <option value=\"bhim\">bhim</option>\n       </select>\n       {/* <input type=\"text\" data-app-phone /> */}\n//        * <button id=\"pay-intent-btn \"onClick={payUpi}>Pay</button>\n// </div>\n// </div> */} \n  )\n}\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,SAASC,QAAT,OAA0B;EAAA,IAAR;IAACC;EAAD,CAAQ;EAClC;EACAC,MAAM,CAACC,IAAP,CAAYF,IAAZ;EACH,MAAMG,MAAM,GAAG;IACXC,gBAAgB,EAAE,UAASJ,IAAT,EAAe,CAAE,CADxB;IAEXK,gBAAgB,EAAE,UAASL,IAAT,EAAe,CAAE,CAFxB;IAGXM,OAAO,EAAE,UAASC,GAAT,EAAc,CAAE;EAHd,CAAf;EAKA,MAAMC,UAAU,GAAGP,MAAM,CAACF,QAAP,CAAgBU,aAAhB,CAA8BN,MAA9B,CAAnB;EACA,IAAIO,gBAAgB,GAAG,KAAvB;EACA,IAAIC,WAAW,GAAG,MAAlB,CAVqC,CAUV;;EAC3BH,UAAU,CAACI,QAAX,CAAoB,CACb;IACOC,GAAG,EAAEC,QAAQ,CAACC,cAAT,CACJ,YADI,CADZ;IAGOC,IAAI,EAAE,YAHb;IAIOC,QAAQ,EAAEC;EAJjB,CADa,CAApB;;EAQA,SAASA,gBAAT,CAA0BlB,IAA1B,EAA+B;IACxBmB,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BpB,IAA/B;IACAU,gBAAgB,GAAGV,IAAI,CAACqB,YAAxB;EACN;;EACH,SAASC,MAAT,GAAkB;IACT,IAAG,CAACZ,gBAAJ,EAAsB;MACfa,KAAK,CAAC,8BAAD,CAAL;MACA;IACN;;IACFf,UAAU,CAACK,GAAX,CAAeF,WAAf,EAA4B,YAA5B;EACL;;EACH,OACK;IACH;MAAC;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAlBI,CAFF,CAqBF;IACA;IACA;;EAvBE;AAyBD;KAvDuBZ,Q"},"metadata":{},"sourceType":"module"}