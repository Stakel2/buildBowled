{"ast":null,"code":"/**\n * Get dimensions of any image by url\n * @param {string} url\n * @param {number} [rejectTimeout] timeout for reject\n * @return {Promise<{ width: number, height: number }>}\n */\nexport default ((url, rejectTimeout) => new Promise((resolve, reject) => {\n  let timer = null;\n  const img = new Image();\n  img.addEventListener('load', () => {\n    if (timer) {\n      clearTimeout(timer);\n    }\n\n    resolve({\n      width: img.width,\n      height: img.height\n    });\n  });\n  img.addEventListener('error', event => {\n    if (timer) {\n      clearTimeout(timer);\n    }\n\n    reject(`${event.type}: ${event.message}`);\n  });\n  img.src = url;\n\n  if (rejectTimeout) {\n    timer = setTimeout(() => reject('Timeout exception'), rejectTimeout);\n  }\n}));","map":{"version":3,"names":["url","rejectTimeout","Promise","resolve","reject","timer","img","Image","addEventListener","clearTimeout","width","height","event","type","message","src","setTimeout"],"sources":["/home/eagle/Projects/bouldl/node_modules/react-image-size/index.js"],"sourcesContent":["/**\n * Get dimensions of any image by url\n * @param {string} url\n * @param {number} [rejectTimeout] timeout for reject\n * @return {Promise<{ width: number, height: number }>}\n */\nexport default (url, rejectTimeout) => new Promise((resolve, reject) => {\n  let timer = null;\n\n  const img = new Image();\n\n  img.addEventListener('load', () => {\n    if (timer) { clearTimeout(timer); }\n\n    resolve({ width: img.width, height: img.height });\n  });\n\n  img.addEventListener('error', (event) => {\n    if (timer) { clearTimeout(timer); }\n\n    reject(`${event.type}: ${event.message}`);\n  });\n\n  img.src = url;\n\n  if (rejectTimeout) {\n    timer = setTimeout(() => reject('Timeout exception'), rejectTimeout);\n  }\n});\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,CAACA,GAAD,EAAMC,aAAN,KAAwB,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;EACtE,IAAIC,KAAK,GAAG,IAAZ;EAEA,MAAMC,GAAG,GAAG,IAAIC,KAAJ,EAAZ;EAEAD,GAAG,CAACE,gBAAJ,CAAqB,MAArB,EAA6B,MAAM;IACjC,IAAIH,KAAJ,EAAW;MAAEI,YAAY,CAACJ,KAAD,CAAZ;IAAsB;;IAEnCF,OAAO,CAAC;MAAEO,KAAK,EAAEJ,GAAG,CAACI,KAAb;MAAoBC,MAAM,EAAEL,GAAG,CAACK;IAAhC,CAAD,CAAP;EACD,CAJD;EAMAL,GAAG,CAACE,gBAAJ,CAAqB,OAArB,EAA+BI,KAAD,IAAW;IACvC,IAAIP,KAAJ,EAAW;MAAEI,YAAY,CAACJ,KAAD,CAAZ;IAAsB;;IAEnCD,MAAM,CAAE,GAAEQ,KAAK,CAACC,IAAK,KAAID,KAAK,CAACE,OAAQ,EAAjC,CAAN;EACD,CAJD;EAMAR,GAAG,CAACS,GAAJ,GAAUf,GAAV;;EAEA,IAAIC,aAAJ,EAAmB;IACjBI,KAAK,GAAGW,UAAU,CAAC,MAAMZ,MAAM,CAAC,mBAAD,CAAb,EAAoCH,aAApC,CAAlB;EACD;AACF,CAtBsC,CAAvC"},"metadata":{},"sourceType":"module"}