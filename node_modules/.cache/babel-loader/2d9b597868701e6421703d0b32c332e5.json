{"ast":null,"code":"import axios from \"axios\";\nimport { toasts } from \"../component/common/Toast/Toast.js\";\nimport { REACT_APP_NFT } from \"../constant\";\nexport const BASE_URL = REACT_APP_NFT;\nexport const axiosApi = axios.create({\n  baseURL: BASE_URL\n});\naxiosApi.interceptors.request.use(config => {\n  config.headers[\"Authorization\"] = localStorage.getItem(\"token\");\n  return config;\n});\n\nfunction formatUrl(url, params) {\n  console.log(url, params, \"llllllllllllll\");\n  params = params && Object.keys(params).length > 0 ? `?${new URLSearchParams(params).toString()}` : \"\";\n  return `${url}${params}`;\n}\n\nfunction handleError(error) {\n  var _error$response, _error$response2, _error$response3;\n\n  if (error !== null && error !== void 0 && (_error$response = error.response) !== null && _error$response !== void 0 && _error$response.status && ((error === null || error === void 0 ? void 0 : (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 403 || (error === null || error === void 0 ? void 0 : (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status) === 401)) {\n    toasts.error(\"Please re-login, last login session expired.\");\n    localStorage.clear();\n  } else {\n    var _error$data, _error$response4, _error$response4$data;\n\n    (error === null || error === void 0 ? void 0 : (_error$data = error.data) === null || _error$data === void 0 ? void 0 : _error$data.message) && toasts.error(error.data.message);\n    (error === null || error === void 0 ? void 0 : (_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.message) && toasts.error(error.response.data.message);\n  }\n}\n\nfunction handleSuccess(res) {\n  if (res.status === 200) {\n    var _res$data;\n\n    res.message && toasts.success(res.message);\n    (res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.message) && toasts.success(res.data.message);\n  }\n\n  if (res.status === 403) {\n    res.message && toasts.warning(res.message);\n  }\n}\n\nexport const apiNftCallPost = function (url, data) {\n  let params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let toastOn = arguments.length > 3 ? arguments[3] : undefined;\n  return new Promise((resolve, reject) => {\n    axiosApi.post(formatUrl(url, params), data).then(res => {\n      if (toastOn == \"toastOn\") {\n        handleSuccess(res);\n      }\n\n      resolve(res.data);\n    }).catch(error => {\n      handleError(error);\n      reject(error);\n    });\n  });\n};\nexport const apiNftCallGet = function (url) {\n  let params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let toastOn = arguments.length > 2 ? arguments[2] : undefined;\n  let isDataNeeded = arguments.length > 3 ? arguments[3] : undefined;\n  return new Promise(resolve => {\n    axiosApi.get(formatUrl(url, params)).then(res => {\n      if (toastOn === \"toastOn\") {\n        handleSuccess(res);\n      }\n\n      resolve(res === null || res === void 0 ? void 0 : res.data);\n    }).catch(error => {\n      var _error$response5;\n\n      // handleError(error);\n      resolve(isDataNeeded ? error === null || error === void 0 ? void 0 : (_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.data : null);\n    });\n  });\n};\nexport const apiNftCallPut = function (url, data) {\n  let params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let toastOn = arguments.length > 3 ? arguments[3] : undefined;\n  return new Promise(resolve => {\n    axiosApi.put(formatUrl(url, params), data).then(res => {\n      if (toastOn === \"toastOn\") {\n        handleSuccess(res);\n      }\n\n      resolve(res.data);\n    }).catch(error => {\n      handleError(error);\n      resolve(null);\n    });\n  });\n};\nexport const apiNftCallPatch = function (url, data) {\n  let params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let toastOn = arguments.length > 3 ? arguments[3] : undefined;\n  return new Promise(resolve => {\n    axiosApi.patch(formatUrl(url, params), data).then(res => {\n      if (toastOn === \"toastOn\") {\n        handleSuccess(res);\n      }\n\n      resolve(res.data);\n    }).catch(error => {\n      handleError(error);\n      resolve(null);\n    });\n  });\n};\nexport const apiNftCallDelete = function (url) {\n  let params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let toastOn = arguments.length > 2 ? arguments[2] : undefined;\n  return new Promise((resolve, reject) => {\n    axiosApi.delete(formatUrl(url, params)).then(res => {\n      if (toastOn === \"toastOn\") {\n        handleSuccess(res);\n      }\n\n      resolve(res.data);\n    }).catch(error => {\n      handleError(error);\n      reject(error);\n    });\n  });\n};","map":{"version":3,"names":["axios","toasts","REACT_APP_NFT","BASE_URL","axiosApi","create","baseURL","interceptors","request","use","config","headers","localStorage","getItem","formatUrl","url","params","console","log","Object","keys","length","URLSearchParams","toString","handleError","error","response","status","clear","data","message","handleSuccess","res","success","warning","apiNftCallPost","toastOn","Promise","resolve","reject","post","then","catch","apiNftCallGet","isDataNeeded","get","apiNftCallPut","put","apiNftCallPatch","patch","apiNftCallDelete","delete"],"sources":["/home/eagle/Projects/bouldl/src/Axios/Nft.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { toasts } from \"../component/common/Toast/Toast.js\";\r\nimport { REACT_APP_NFT } from \"../constant\";\r\nexport const BASE_URL = REACT_APP_NFT;\r\nexport const axiosApi = axios.create({\r\n  baseURL: BASE_URL,\r\n});\r\n\r\naxiosApi.interceptors.request.use((config) => {\r\n  config.headers[\"Authorization\"] = localStorage.getItem(\"token\");\r\n  return config;\r\n});\r\n\r\nfunction formatUrl(url, params) {\r\n  console.log(url , params,\"llllllllllllll\");\r\n  params =\r\n    params && Object.keys(params).length > 0\r\n      ? `?${new URLSearchParams(params).toString()}`\r\n      : \"\";\r\n   \r\n  return `${url}${params}`;\r\n}\r\n\r\nfunction handleError(error) {\r\n  if (\r\n    error?.response?.status &&\r\n    (error?.response?.status === 403 || error?.response?.status === 401)\r\n  ) {\r\n    toasts.error(\"Please re-login, last login session expired.\");\r\n    localStorage.clear();\r\n  } else {\r\n    error?.data?.message && toasts.error(error.data.message);\r\n    error?.response?.data?.message && toasts.error(error.response.data.message);\r\n  }\r\n}\r\n\r\nfunction handleSuccess(res) {\r\n  if (res.status === 200) {\r\n    res.message && toasts.success(res.message);\r\n    res?.data?.message && toasts.success(res.data.message);\r\n  }\r\n  if (res.status === 403) {\r\n    res.message && toasts.warning(res.message);\r\n  }\r\n}\r\n\r\nexport const apiNftCallPost = (url, data, params = {}, toastOn) =>\r\n  new Promise((resolve, reject) => {\r\n    axiosApi\r\n      .post(formatUrl(url, params), data)\r\n      .then((res) => {\r\n        if (toastOn == \"toastOn\") {\r\n          handleSuccess(res);\r\n        }\r\n        resolve(res.data);\r\n      })\r\n      .catch((error) => {\r\n        handleError(error);\r\n        reject(error);\r\n      });\r\n  });\r\n\r\nexport const apiNftCallGet = (url, params = {}, toastOn, isDataNeeded) => {\r\n  return new Promise((resolve) => {\r\n    axiosApi\r\n      .get(formatUrl(url, params))\r\n      .then((res) => {\r\n        if (toastOn === \"toastOn\") {\r\n          handleSuccess(res);\r\n        }\r\n        resolve(res?.data);\r\n      })\r\n      .catch((error) => {\r\n        // handleError(error);\r\n        resolve(isDataNeeded ? error?.response?.data : null);\r\n      });\r\n  });\r\n};\r\nexport const apiNftCallPut = (url, data, params = {}, toastOn) =>\r\n  new Promise((resolve) => {\r\n    axiosApi\r\n      .put(formatUrl(url, params), data)\r\n      .then((res) => {\r\n        if (toastOn === \"toastOn\") {\r\n          handleSuccess(res);\r\n        }\r\n        resolve(res.data);\r\n      })\r\n      .catch((error) => {\r\n        handleError(error);\r\n        resolve(null);\r\n      });\r\n  });\r\n\r\nexport const apiNftCallPatch = (url, data, params = {}, toastOn) =>\r\n  new Promise((resolve) => {\r\n    axiosApi\r\n      .patch(formatUrl(url, params), data)\r\n      .then((res) => {\r\n        if (toastOn === \"toastOn\") {\r\n          handleSuccess(res);\r\n        }\r\n        resolve(res.data);\r\n      })\r\n      .catch((error) => {\r\n        handleError(error);\r\n        resolve(null);\r\n      });\r\n  });\r\n\r\nexport const apiNftCallDelete = (url, params = {}, toastOn) => {\r\n  return new Promise((resolve, reject) => {\r\n    axiosApi\r\n      .delete(formatUrl(url, params))\r\n      .then((res) => {\r\n        if (toastOn === \"toastOn\") {\r\n          handleSuccess(res);\r\n        }\r\n        resolve(res.data);\r\n      })\r\n      .catch((error) => {\r\n        handleError(error);\r\n        reject(error);\r\n      });\r\n  });\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}